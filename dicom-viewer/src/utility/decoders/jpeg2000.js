var JpxImage=function(){function e(){this.failOnCorruptedImage=!0}function t(e,t){e.x0=Math.ceil(t.XOsiz/e.XRsiz),e.x1=Math.ceil(t.Xsiz/e.XRsiz),e.y0=Math.ceil(t.YOsiz/e.YRsiz),e.y1=Math.ceil(t.Ysiz/e.YRsiz),e.width=e.x1-e.x0,e.height=e.y1-e.y0}function n(e,t){for(var n,s=e.SIZ,r=[],o=Math.ceil((s.Xsiz-s.XTOsiz)/s.XTsiz),a=Math.ceil((s.Ysiz-s.YTOsiz)/s.YTsiz),c=0;c<a;c++)for(var l=0;l<o;l++)n={},n.tx0=Math.max(s.XTOsiz+l*s.XTsiz,s.XOsiz),n.ty0=Math.max(s.YTOsiz+c*s.YTsiz,s.YOsiz),n.tx1=Math.min(s.XTOsiz+(l+1)*s.XTsiz,s.Xsiz),n.ty1=Math.min(s.YTOsiz+(c+1)*s.YTsiz,s.Ysiz),n.width=n.tx1-n.tx0,n.height=n.ty1-n.ty0,n.components=[],r.push(n);e.tiles=r;for(var d,m=s.Csiz,h=0;h<m;h++){d=t[h];for(var g,u=0,b=r.length;u<b;u++)g={},n=r[u],g.tcx0=Math.ceil(n.tx0/d.XRsiz),g.tcy0=Math.ceil(n.ty0/d.YRsiz),g.tcx1=Math.ceil(n.tx1/d.XRsiz),g.tcy1=Math.ceil(n.ty1/d.YRsiz),g.width=g.tcx1-g.tcx0,g.height=g.tcy1-g.tcy0,n.components[h]=g}}function i(e,t,n){var i=t.codingStyleParameters,s={};return i.entropyCoderWithCustomPrecincts?(s.PPx=i.precinctsSizes[n].PPx,s.PPy=i.precinctsSizes[n].PPy):(s.PPx=15,s.PPy=15),s.xcb_=0<n?Math.min(i.xcb,s.PPx-1):Math.min(i.xcb,s.PPx),s.ycb_=0<n?Math.min(i.ycb,s.PPy-1):Math.min(i.ycb,s.PPy),s}function s(e,t,n){var i=1<<n.PPx,s=1<<n.PPy,r=0===t.resLevel,o=1<<n.PPx+(r?0:-1),a=1<<n.PPy+(r?0:-1),c=t.trx1>t.trx0?Math.ceil(t.trx1/i)-Math.floor(t.trx0/i):0,l=t.try1>t.try0?Math.ceil(t.try1/s)-Math.floor(t.try0/s):0;t.precinctParameters={precinctWidth:i,precinctHeight:s,numprecinctswide:c,numprecinctshigh:l,numprecincts:c*l,precinctWidthInSubband:o,precinctHeightInSubband:a}}function o(e,t,n){var s,r,o,a,c=n.xcb_,l=n.ycb_,d=1<<c,p=1<<l,m=t.tbx0>>c,h=t.tby0>>l,g=t.tbx1+d-1>>c,u=t.tby1+p-1>>l,b=t.resolution.precinctParameters,x=[],y=[];for(r=h;r<u;r++)for(s=m;s<g;s++){o={cbx:s,cby:r,tbx0:d*s,tby0:p*r,tbx1:d*(s+1),tby1:p*(r+1)},o.tbx0_=Math.max(t.tbx0,o.tbx0),o.tby0_=Math.max(t.tby0,o.tby0),o.tbx1_=Math.min(t.tbx1,o.tbx1),o.tby1_=Math.min(t.tby1,o.tby1);var P=Math.floor((o.tbx0_-t.tbx0)/b.precinctWidthInSubband),f=Math.floor((o.tby0_-t.tby0)/b.precinctHeightInSubband);if(a=P+f*b.numprecinctswide,o.precinctNumber=a,o.subbandType=t.type,o.Lblock=3,!(o.tbx1_<=o.tbx0_||o.tby1_<=o.tby0_)){x.push(o);var C=y[a];void 0===C?y[a]=C={cbxMin:s,cbyMin:r,cbxMax:s,cbyMax:r}:(s<C.cbxMin?C.cbxMin=s:s>C.cbxMax&&(C.cbxMax=s),r<C.cbyMin?C.cbxMin=r:r>C.cbyMax&&(C.cbyMax=r)),o.precinct=C}}t.codeblockParameters={codeblockWidth:c,codeblockHeight:l,numcodeblockwide:g-m+1,numcodeblockhigh:u-h+1},t.codeblocks=x,t.precincts=y}function a(e,t,n){for(var s=[],r=e.subbands,o=0,a=r.length;o<a;o++)for(var c,l=r[o],d=l.codeblocks,p=0,m=d.length;p<m;p++)(c=d[p],c.precinctNumber===t)&&s.push(c);return{layerNumber:n,codeblocks:s}}function c(e){for(var t=e.SIZ,n=e.currentTile.index,s=e.tiles[n],o=s.codingStyleDefaultParameters.layersCount,c=t.Csiz,d=0,p=0;p<c;p++)d=Math.max(d,s.components[p].codingStyleParameters.decompositionLevelsCount);var m=0,h=0,g=0,u=0;this.nextPacket=function(){for(;m<o;m++){for(;h<=d;h++){for(;g<c;g++){var e=s.components[g];if(!(h>e.codingStyleParameters.decompositionLevelsCount)){for(var t,n=e.resolutions[h],i=n.precinctParameters.numprecincts;u<i;)return t=a(n,u,m),u++,t;u=0}}g=0}h=0}}}function l(e){for(var t=e.SIZ,n=e.currentTile.index,s=e.tiles[n],o=s.codingStyleDefaultParameters.layersCount,c=t.Csiz,d=0,p=0;p<c;p++)d=Math.max(d,s.components[p].codingStyleParameters.decompositionLevelsCount);var m=0,h=0,g=0,u=0;this.nextPacket=function(){for(;m<=d;m++){for(;h<o;h++){for(;g<c;g++){var e=s.components[g];if(!(m>e.codingStyleParameters.decompositionLevelsCount)){for(var t,n=e.resolutions[m],i=n.precinctParameters.numprecincts;u<i;)return t=a(n,u,h),u++,t;u=0}}g=0}h=0}}}function d(e){var t,n,i,s,o=e.SIZ,d=e.currentTile.index,m=e.tiles[d],h=m.codingStyleDefaultParameters.layersCount,g=o.Csiz,u=0;for(i=0;i<g;i++){var b=m.components[i];u=Math.max(u,b.codingStyleParameters.decompositionLevelsCount)}var x=new Int32Array(u+1);for(n=0;n<=u;++n){var y=0;for(i=0;i<g;++i){var P=m.components[i].resolutions;n<P.length&&(y=Math.max(y,P[n].precinctParameters.numprecincts))}x[n]=y}t=0,n=0,i=0,s=0,this.nextPacket=function(){for(;n<=u;n++){for(;s<x[n];s++){for(;i<g;i++){var e=m.components[i];if(!(n>e.codingStyleParameters.decompositionLevelsCount)){var r=e.resolutions[n],o=r.precinctParameters.numprecincts;if(!(s>=o)){for(;t<h;){var c=a(r,s,t);return t++,c}t=0}}}i=0}s=0}}}function p(e){var t=e.SIZ,n=e.currentTile.index,i=e.tiles[n],s=i.codingStyleDefaultParameters.layersCount,o=t.Csiz,d=g(i),p=d,m=0,u=0,b=0,x=0,y=0;this.nextPacket=function(){for(;y<p.maxNumHigh;y++){for(;x<p.maxNumWide;x++){for(;b<o;b++){for(var e=i.components[b],t=e.codingStyleParameters.decompositionLevelsCount;u<=t;u++){var n=e.resolutions[u],r=d.components[b].resolutions[u],c=h(x,y,r,p,n);if(null!==c){for(;m<s;){var l=a(n,c,m);return m++,l}m=0}}u=0}b=0}x=0}}}function m(e){var t=e.SIZ,n=e.currentTile.index,i=e.tiles[n],s=i.codingStyleDefaultParameters.layersCount,o=t.Csiz,d=g(i),p=0,m=0,u=0,b=0,x=0;this.nextPacket=function(){for(;u<o;++u){for(var e=i.components[u],t=d.components[u],n=e.codingStyleParameters.decompositionLevelsCount;x<t.maxNumHigh;x++){for(;b<t.maxNumWide;b++){for(;m<=n;m++){var r=e.resolutions[m],c=t.resolutions[m],l=h(b,x,c,t,r);if(null!==l){for(;p<s;){var g=a(r,l,p);return p++,g}p=0}}m=0}b=0}x=0}}}function h(e,t,n,i,s){var r=e*i.minWidth,o=t*i.minHeight;if(0!=r%n.width||0!=o%n.height)return null;var a=o/n.width*s.precinctParameters.numprecinctswide;return r/n.height+a}function g(e){for(var t=e.components.length,n=Number.MAX_VALUE,i=Number.MAX_VALUE,s=0,o=0,a=Array(t),l=0;l<t;l++){for(var d=e.components[l],p=d.codingStyleParameters.decompositionLevelsCount,m=Array(p+1),h=Number.MAX_VALUE,g=Number.MAX_VALUE,u=0,b=0,x=1,y=p;0<=y;--y){var P=d.resolutions[y],f=x*P.precinctParameters.precinctWidth,C=x*P.precinctParameters.precinctHeight;h=Math.min(h,f),g=Math.min(g,C),u=Math.max(u,P.precinctParameters.numprecinctswide),b=Math.max(b,P.precinctParameters.numprecinctshigh),m[y]={width:f,height:C},x<<=1}n=Math.min(n,h),i=Math.min(i,g),s=Math.max(s,u),o=Math.max(o,b),a[l]={resolutions:m,minWidth:h,minHeight:g,maxNumWide:u,maxNumHigh:b}}return{components:a,minWidth:n,minHeight:i,maxNumWide:s,maxNumHigh:o}}function u(e){for(var t=e.SIZ,n=e.currentTile.index,a=e.tiles[n],h=t.Csiz,g=0;g<h;g++){for(var u=a.components[g],b=u.codingStyleParameters.decompositionLevelsCount,x=[],y=[],P=0;P<=b;P++){var f=i(e,u,P),C={},T=1<<b-P;C.trx0=Math.ceil(u.tcx0/T),C.try0=Math.ceil(u.tcy0/T),C.trx1=Math.ceil(u.tcx1/T),C.try1=Math.ceil(u.tcy1/T),C.resLevel=P,s(e,C,f),x.push(C);var S;if(0==P)S={},S.type="LL",S.tbx0=Math.ceil(u.tcx0/T),S.tby0=Math.ceil(u.tcy0/T),S.tbx1=Math.ceil(u.tcx1/T),S.tby1=Math.ceil(u.tcy1/T),S.resolution=C,o(e,S,f),y.push(S),C.subbands=[S];else{var w=1<<b-P+1,v=[];S={},S.type="HL",S.tbx0=Math.ceil(u.tcx0/w-.5),S.tby0=Math.ceil(u.tcy0/w),S.tbx1=Math.ceil(u.tcx1/w-.5),S.tby1=Math.ceil(u.tcy1/w),S.resolution=C,o(e,S,f),y.push(S),v.push(S),S={},S.type="LH",S.tbx0=Math.ceil(u.tcx0/w),S.tby0=Math.ceil(u.tcy0/w-.5),S.tbx1=Math.ceil(u.tcx1/w),S.tby1=Math.ceil(u.tcy1/w-.5),S.resolution=C,o(e,S,f),y.push(S),v.push(S),S={},S.type="HH",S.tbx0=Math.ceil(u.tcx0/w-.5),S.tby0=Math.ceil(u.tcy0/w-.5),S.tbx1=Math.ceil(u.tcx1/w-.5),S.tby1=Math.ceil(u.tcy1/w-.5),S.resolution=C,o(e,S,f),y.push(S),v.push(S),C.subbands=v}}u.resolutions=x,u.subbands=y}var I=a.codingStyleDefaultParameters.progressionOrder;switch(I){case 0:a.packetsIterator=new c(e);break;case 1:a.packetsIterator=new l(e);break;case 2:a.packetsIterator=new d(e);break;case 3:a.packetsIterator=new p(e);break;case 4:a.packetsIterator=new m(e);break;default:throw new Error("JPX Error: Unsupported progression order "+I);}}function b(e,t,n,s){function r(e){for(;h<e;){var i=t[n+m];m++,g?(p=p<<7|i,h+=7,g=!1):(p=p<<8|i,h+=8),255===i&&(g=!0)}return h-=e,p>>>h&(1<<e)-1}function o(e){return 255===t[n+m-1]&&t[n+m]===e?(a(1),!0):!(255!==t[n+m]||t[n+m+1]!==e)&&(a(2),!0)}function a(e){m+=e}function c(){h=0,g&&(m++,g=!1)}function d(){if(0===r(1))return 1;if(0===r(1))return 2;var e=r(2);return 3>e?e+3:(e=r(5),31>e)?e+6:(e=r(7),e+37)}for(var p,m=0,h=0,g=!1,u=e.currentTile.index,b=e.tiles[u],x=e.COD.sopMarkerUsed,y=e.COD.ephMarkerUsed,P=b.packetsIterator;m<s;){c(),x&&o(145)&&a(4);var f=P.nextPacket();if(f===void 0)return;if(r(1)){for(var C,w=f.layerNumber,v=[],I=0,j=f.codeblocks.length;I<void 0;I++){C=f.codeblocks[I];var L,k=C.precinct,E=C.cbx-k.cbxMin,F=C.cby-k.cbyMin,O=!1,_=!1;if(void 0!==C.included)O=!!r(1);else{k=C.precinct;var R,z;if(void 0!==k.inclusionTree)R=k.inclusionTree;else{var M=k.cbxMax-k.cbxMin+1,q=k.cbyMax-k.cbyMin+1;R=new S(M,q,w),z=new T(M,q),k.inclusionTree=R,k.zeroBitPlanesTree=z;for(var D=0;D<w;D++)if(0!==r(1))throw new Error("JPX Error: Invalid tag tree")}if(R.reset(E,F,w))for(;;)if(!r(1)){R.incrementValue(w);break}else if(L=!R.nextLevel(),L){C.included=!0,O=_=!0;break}}if(O){if(_){for(z=k.zeroBitPlanesTree,z.reset(E,F);;)if(!r(1))z.incrementValue();else if(L=!z.nextLevel(),L)break;C.zeroBitPlanes=z.value}for(var B=d();r(1);)C.Lblock++;var X=log2(B),A=(B<1<<X?X-1:X)+C.Lblock,H=r(A);v.push({codeblock:C,codingpasses:B,dataLength:H})}}for(c(),y&&o(146);0<v.length;){var N=v.shift();C=N.codeblock,void 0===C.data&&(C.data=[]),C.data.push({data:t,start:n+m,end:n+m+N.dataLength,codingpasses:N.codingpasses}),m+=N.dataLength}}}return m}function x(e,t,s,r,o,a,c,l){for(var d=r.tbx0,p=r.tby0,m=r.tbx1-r.tbx0,h=r.codeblocks,g="H"===r.type.charAt(0)?1:0,u="H"===r.type.charAt(1)?t:0,b=0,x=h.length;b<x;++b){var y=h[b],P=y.tbx1_-y.tbx0_,f=y.tby1_-y.tby0_;if(0!==P&&0!==f&&void 0!==y.data){var C,T;C=new w(P,f,y.subbandType,y.zeroBitPlanes,a),T=2;var S,v,I,L=y.data,E=0,F=0;for(S=0,v=L.length;S<v;S++)I=L[S],E+=I.end-I.start,F+=I.codingpasses;var O=new Int16Array(E),_=0;for(S=0,v=L.length;S<v;S++){I=L[S];var R=I.data.subarray(I.start,I.end);O.set(R,_),_+=R.length}var z=new ArithmeticDecoder(O,0,E);for(C.setDecoder(z),S=0;S<F;S++)0===T?C.runSignificancePropogationPass():1===T?C.runMagnitudeRefinementPass():2===T?(C.runCleanupPass(),l&&C.checkSegmentationSymbol()):void 0,T=(T+1)%3;var M,q,D,B=y.tbx0_-d+(y.tby0_-p)*m,X=C.coefficentsSign,A=C.coefficentsMagnitude,H=C.bitsDecoded,N=c?0:.5;_=0;var U="LL"!==r.type;for(S=0;S<f;S++){var Y=0|B/m;for(M=0;M<P;M++){if(q=A[_],0!==q){q=(q+N)*o,0!==X[_]&&(q=-q),D=H[_];var W=U?2*Y*(t-m)+g+u+(B<<1):B;e[W]=c&&D>=a?q:q*(1<<a-D)}B++,_++}B+=m-P}}}}function y(e,t,n){for(var s=t.components[n],r=s.codingStyleParameters,o=s.quantizationParameters,a=r.decompositionLevelsCount,c=o.SPqcds,l=o.scalarExpounded,d=o.guardBits,p=r.segmentationSymbolUsed,m=e.components[n].precision,h=r.reversibleTransformation,g=h?new L:new I,u=[],y=0,P=0;P<=a;P++){for(var f=s.resolutions[P],T=f.trx1-f.trx0,S=f.try1-f.try0,w=new Float32Array(T*S),v=0,k=f.subbands.length;v<k;v++){var E,F;l?(E=c[y].mu,F=c[y].epsilon,y++):(E=c[0].mu,F=c[0].epsilon+(0<P?1-P:0));var O=f.subbands[v],_=C[O.type],R=h?1:Math.pow(2,m+_-F)*(1+E/2048),z=d+F-1;x(w,T,S,O,R,z,h,p)}u.push({width:T,height:S,items:w})}var M=g.calculate(u,s.tcx0,s.tcy0);return{left:s.tcx0,top:s.tcy0,width:M.width,height:M.height,items:M.items}}function P(e){for(var t=e.SIZ,n=e.components,s=t.Csiz,o=[],a=0,l=e.tiles.length;a<l;a++){var d,p=e.tiles[a],m=[];for(d=0;d<s;d++)m[d]=y(e,p,d);var h,u,x,P,f,C,T,S,w,v,I,L,E,F,O,_=m[0],R=new Int16Array(_.items.length*s),z={left:_.left,top:_.top,width:_.width,height:_.height,items:R},M=0;if(p.codingStyleDefaultParameters.multipleComponentTransform){var q=4===s,D=m[0].items,B=m[1].items,X=m[2].items,A=q?m[3].items:null;h=n[0].precision-8,u=(128<<h)+.5,x=255*(1<<h),f=.5*x,P=-f;var H=p.components[0],N=s-3;if(T=D.length,!H.codingStyleParameters.reversibleTransformation)for(C=0;C<T;C++,M+=N)S=D[C]+u,w=B[C],v=X[C],I=S+1.402*v,L=S-.34413*w-.71414*v,E=S+1.772*w,R[M++]=0>=I?0:I>=x?255:I>>h,R[M++]=0>=L?0:L>=x?255:L>>h,R[M++]=0>=E?0:E>=x?255:E>>h;else for(C=0;C<T;C++,M+=N)S=D[C]+u,w=B[C],v=X[C],L=S-(v+w>>2),I=L+v,E=L+w,R[M++]=0>=I?0:I>=x?255:I>>h,R[M++]=0>=L?0:L>=x?255:L>>h,R[M++]=0>=E?0:E>=x?255:E>>h;if(q)for(C=0,M=3;C<T;C++,M+=4)F=A[C],R[M]=F<=P?0:F>=f?255:F+u>>h}else for(d=0;d<s;d++)if(8===n[d].precision){var U=m[d].items;for(h=n[d].precision-8,u=(128<<h)+.5,x=127.5*(1<<h),P=-x,(M=d,C=0,T=U.length);C<T;C++)O=U[C],R[M]=O<=P?0:O>=x?255:O+u>>h,M+=s}else{var Y=n[d].isSigned,U=m[d].items;for(Y?(h=0,u=0):(h=n[d].precision-8,u=(128<<h)+.5),M=d,C=0,T=U.length;C<T;C++)O=U[C],R[M]=O+u,M+=s}o.push(z)}return o}function f(e,t){for(var n=e.SIZ,i=n.Csiz,s=e.tiles[t],r=0;r<i;r++){var o=s.components[r],a=e.currentTile.QCC[r]===void 0?e.currentTile.QCD:e.currentTile.QCC[r];o.quantizationParameters=a;var l=e.currentTile.COC[r]===void 0?e.currentTile.COD:e.currentTile.COC[r];o.codingStyleParameters=l}s.codingStyleDefaultParameters=e.currentTile.COD}var C={LL:0,LH:1,HL:1,HH:2};e.prototype={parse:function(e){var t=readUint16(e,0);if(65359===t)return void this.parseCodestream(e,0,e.length);for(var n=0,i=e.length;n<i;){var s=8,r=readUint32(e,n),o=readUint32(e,n+4);if(n+=s,1===r&&(r=4294967296*readUint32(e,n)+readUint32(e,n+4),n+=8,s+=8),0===r&&(r=i-n+s),r<s)throw new Error("JPX Error: Invalid box field size");var a=r-s,c=!0;switch(o){case 1785737832:c=!1;break;case 1668246642:var l=e[n],d=e[n+1],p=e[n+2];if(1===l){var m=readUint32(e,n+3);switch(m){case 16:case 17:case 18:break;default:warn("Unknown colorspace "+m);}}else 2===l&&info("ICC profile not supported");break;case 1785737827:this.parseCodestream(e,n,n+a);break;case 1783636e3:218793738!==readUint32(e,n)&&warn("Invalid JP2 signature");break;case 1783634458:case 1718909296:case 1920099697:case 1919251232:case 1768449138:break;default:var h=String.fromCharCode(255&o>>24,255&o>>16,255&o>>8,255&o);warn("Unsupported header type "+o+" ("+h+")");}c&&(n+=a)}},parseImageProperties:function(e){for(var t=e.getByte();0<=t;){var n=t;t=e.getByte();var i=n<<8|t;if(65361==i){e.skip(4);var s=e.getInt32()>>>0,r=e.getInt32()>>>0,o=e.getInt32()>>>0,a=e.getInt32()>>>0;e.skip(16);var c=e.getUint16();return this.width=s-o,this.height=r-a,this.componentsCount=c,void(this.bitsPerComponent=8)}}throw new Error("JPX Error: No size marker found in JPX stream")},parseCodestream:function(e,s,r){var o={};try{for(var a=!1,c=s;c+1<r;){var l=readUint16(e,c);c+=2;var d,p,m,h,g,x,y=0;switch(l){case 65359:o.mainHeader=!0;break;case 65497:break;case 65361:y=readUint16(e,c);var C={};C.Xsiz=readUint32(e,c+4),C.Ysiz=readUint32(e,c+8),C.XOsiz=readUint32(e,c+12),C.YOsiz=readUint32(e,c+16),C.XTsiz=readUint32(e,c+20),C.YTsiz=readUint32(e,c+24),C.XTOsiz=readUint32(e,c+28),C.YTOsiz=readUint32(e,c+32);var T=readUint16(e,c+36);C.Csiz=T;var S=[];d=c+38;for(var w,v=0;v<T;v++)w={precision:(127&e[d])+1,isSigned:!!(128&e[d]),XRsiz:e[d+1],YRsiz:e[d+1]},t(w,C),S.push(w);o.SIZ=C,o.components=S,n(o,S),o.QCC=[],o.COC=[];break;case 65372:y=readUint16(e,c);var I={};switch(d=c+2,p=e[d++],31&p){case 0:h=8,g=!0;break;case 1:h=16,g=!1;break;case 2:h=16,g=!0;break;default:throw new Error("JPX Error: Invalid SQcd value "+p);}for(I.noQuantization=8===h,I.scalarExpounded=g,I.guardBits=p>>5,m=[];d<y+c;){var L={};8===h?(L.epsilon=e[d++]>>3,L.mu=0):(L.epsilon=e[d]>>3,L.mu=(7&e[d])<<8|e[d+1],d+=2),m.push(L)}I.SPqcds=m,o.mainHeader?o.QCD=I:(o.currentTile.QCD=I,o.currentTile.QCC=[]);break;case 65373:y=readUint16(e,c);var k={};d=c+2;var E;switch(257>o.SIZ.Csiz?E=e[d++]:(E=readUint16(e,d),d+=2),p=e[d++],31&p){case 0:h=8,g=!0;break;case 1:h=16,g=!1;break;case 2:h=16,g=!0;break;default:throw new Error("JPX Error: Invalid SQcd value "+p);}for(k.noQuantization=8===h,k.scalarExpounded=g,k.guardBits=p>>5,m=[];d<y+c;)L={},8===h?(L.epsilon=e[d++]>>3,L.mu=0):(L.epsilon=e[d]>>3,L.mu=(7&e[d])<<8|e[d+1],d+=2),m.push(L);k.SPqcds=m,o.mainHeader?o.QCC[E]=k:o.currentTile.QCC[E]=k;break;case 65362:y=readUint16(e,c);var F={};d=c+2;var O=e[d++];F.entropyCoderWithCustomPrecincts=!!(1&O),F.sopMarkerUsed=!!(2&O),F.ephMarkerUsed=!!(4&O),F.progressionOrder=e[d++],F.layersCount=readUint16(e,d),d+=2,F.multipleComponentTransform=e[d++],F.decompositionLevelsCount=e[d++],F.xcb=(15&e[d++])+2,F.ycb=(15&e[d++])+2;var _=e[d++];if(F.selectiveArithmeticCodingBypass=!!(1&_),F.resetContextProbabilities=!!(2&_),F.terminationOnEachCodingPass=!!(4&_),F.verticalyStripe=!!(8&_),F.predictableTermination=!!(16&_),F.segmentationSymbolUsed=!!(32&_),F.reversibleTransformation=e[d++],F.entropyCoderWithCustomPrecincts){for(var R,z=[];d<y+c;)R=e[d++],z.push({PPx:15&R,PPy:R>>4});F.precinctsSizes=z}var M=[];if(F.selectiveArithmeticCodingBypass&&M.push("selectiveArithmeticCodingBypass"),F.resetContextProbabilities&&M.push("resetContextProbabilities"),F.terminationOnEachCodingPass&&M.push("terminationOnEachCodingPass"),F.verticalyStripe&&M.push("verticalyStripe"),F.predictableTermination&&M.push("predictableTermination"),0<M.length)throw a=!0,new Error("JPX Error: Unsupported COD options ("+M.join(", ")+")");o.mainHeader?o.COD=F:(o.currentTile.COD=F,o.currentTile.COC=[]);break;case 65424:y=readUint16(e,c),x={},x.index=readUint16(e,c+2),x.length=readUint32(e,c+4),x.dataEnd=x.length+c-2,x.partIndex=e[c+8],x.partsCount=e[c+9],o.mainHeader=!1,0===x.partIndex&&(x.COD=o.COD,x.COC=o.COC.slice(0),x.QCD=o.QCD,x.QCC=o.QCC.slice(0)),o.currentTile=x;break;case 65427:x=o.currentTile,0===x.partIndex&&(f(o,x.index),u(o)),y=x.dataEnd-c,b(o,e,c,y);break;case 65365:case 65367:case 65368:case 65380:case 65363:y=readUint16(e,c);break;default:throw new Error("JPX Error: Unknown codestream code: "+l.toString(16));}c+=y}}catch(t){if(a||this.failOnCorruptedImage)throw t;else warn("Trying to recover from "+t.message)}this.tiles=P(o),this.width=o.SIZ.Xsiz-o.SIZ.XOsiz,this.height=o.SIZ.Ysiz-o.SIZ.YOsiz,this.componentsCount=o.SIZ.Csiz}};var T=function(){function e(e,t){var n=log2(Math.max(e,t))+1;this.levels=[];for(var s,r=0;r<n;r++)s={width:e,height:t,items:[]},this.levels.push(s),e=Math.ceil(e/2),t=Math.ceil(t/2)}return e.prototype={reset:function(e,t){for(var n,s=0,r=0;s<this.levels.length;){n=this.levels[s];var o=e+t*n.width;if(void 0!==n.items[o]){r=n.items[o];break}n.index=o,e>>=1,t>>=1,s++}s--,n=this.levels[s],n.items[n.index]=r,this.currentLevel=s,delete this.value},incrementValue:function(){var e=this.levels[this.currentLevel];e.items[e.index]++},nextLevel:function(){var e=this.currentLevel,t=this.levels[e],n=t.items[t.index];return(e--,0>e)?(this.value=n,!1):(this.currentLevel=e,t=this.levels[e],t.items[t.index]=n,!0)}},e}(),S=function(){function e(e,t,n){var s=log2(Math.max(e,t))+1;this.levels=[];for(var r,o=0;o<s;o++){r=new Int16Array(e*t);for(var a=0,c=r.length;a<c;a++)r[a]=n;var l={width:e,height:t,items:r};this.levels.push(l),e=Math.ceil(e/2),t=Math.ceil(t/2)}}return e.prototype={reset:function(e,t,n){for(var s=0;s<this.levels.length;){var r=this.levels[s],o=e+t*r.width;r.index=o;var a=r.items[o];if(255===a)break;if(a>n)return this.currentLevel=s,this.propagateValues(),!1;e>>=1,t>>=1,s++}return this.currentLevel=s-1,!0},incrementValue:function(e){var t=this.levels[this.currentLevel];t.items[t.index]=e+1,this.propagateValues()},propagateValues:function(){for(var e=this.currentLevel,t=this.levels[e],n=t.items[t.index];0<=--e;)t=this.levels[e],t.items[t.index]=n},nextLevel:function(){var e=this.currentLevel,t=this.levels[e],n=t.items[t.index];return(t.items[t.index]=255,e--,!(0>e))&&(this.currentLevel=e,t=this.levels[e],t.items[t.index]=n,!0)}},e}(),w=function(){function e(e,t,o,a,c){this.width=e,this.height=t,this.contextLabelTable="HH"===o?r:"HL"===o?s:n;var l=e*t;this.neighborsSignificance=new Uint8Array(l),this.coefficentsSign=new Uint8Array(l),this.coefficentsMagnitude=14<c?new Uint32Array(l):6<c?new Uint16Array(l):new Uint8Array(l),this.processingFlags=new Uint8Array(l);var d=new Uint8Array(l);if(0!==a)for(var p=0;p<l;p++)d[p]=a;this.bitsDecoded=d,this.reset()}var t=18,n=new Uint8Array([0,5,8,0,3,7,8,0,4,7,8,0,0,0,0,0,1,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8]),s=new Uint8Array([0,3,4,0,5,7,7,0,8,8,8,0,0,0,0,0,1,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8]),r=new Uint8Array([0,1,2,0,1,2,2,0,2,2,2,0,0,0,0,0,3,4,5,0,4,5,5,0,5,5,5,0,0,0,0,0,6,7,7,0,7,7,7,0,7,7,7,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8]);return e.prototype={setDecoder:function(e){this.decoder=e},reset:function(){this.contexts=new Int8Array(19),this.contexts[0]=8,this.contexts[17]=92,this.contexts[t]=6},setNeighborsSignificance:function(e,t,n){var s,r=this.neighborsSignificance,o=this.width,a=this.height,c=0<t,l=t+1<o;0<e&&(s=n-o,c&&(r[s-1]+=16),l&&(r[s+1]+=16),r[s]+=4),e+1<a&&(s=n+o,c&&(r[s-1]+=16),l&&(r[s+1]+=16),r[s]+=4),c&&(r[n-1]+=1),l&&(r[n+1]+=1),r[n]|=128},runSignificancePropogationPass:function(){for(var e=this.decoder,t=this.width,n=this.height,s=this.coefficentsMagnitude,r=this.coefficentsSign,o=this.neighborsSignificance,a=this.processingFlags,c=this.contexts,l=this.contextLabelTable,d=this.bitsDecoded,p=0;p<n;p+=4)for(var m,h=0;h<t;h++){m=p*t+h;for(var g,u=0;4>u&&(g=p+u,!(g>=n));u++,m+=t)if(a[m]&=-2,!s[m]&&o[m]){var b=l[o[m]],x=e.readBit(c,b);if(x){var y=this.decodeSignBit(g,h,m);r[m]=y,s[m]=1,this.setNeighborsSignificance(g,h,m),a[m]|=2}d[m]++,a[m]|=1}}},decodeSignBit:function(e,t,n){var i,s,r,o,a,c,l=this.width,d=this.height,p=this.coefficentsMagnitude,m=this.coefficentsSign;o=0<t&&0!==p[n-1],t+1<l&&0!==p[n+1]?(r=m[n+1],o?(s=m[n-1],i=1-r-s):i=1-r-r):o?(s=m[n-1],i=1-s-s):i=0;var h=3*i;return o=0<e&&0!==p[n-l],e+1<d&&0!==p[n+l]?(r=m[n+l],o?(s=m[n-l],i=1-r-s+h):i=1-r-r+h):o?(s=m[n-l],i=1-s-s+h):i=h,0<=i?(a=9+i,c=this.decoder.readBit(this.contexts,a)):(a=9-i,c=1^this.decoder.readBit(this.contexts,a)),c},runMagnitudeRefinementPass:function(){for(var e,t=this.decoder,n=this.width,i=this.height,s=this.coefficentsMagnitude,r=this.neighborsSignificance,o=this.contexts,a=this.bitsDecoded,c=this.processingFlags,l=1,d=2,p=n*i,m=0;m<p;m=e){e=Math.min(p,m+4*n);for(var h=0;h<n;h++)for(var g=m+h;g<e;g+=n)if(s[g]&&0==(c[g]&l)){var u=16;if(0!=(c[g]&d)){c[g]^=d;var b=127&r[g];u=0==b?15:14}var x=t.readBit(o,u);s[g]=s[g]<<1|x,a[g]++,c[g]|=l}}},runCleanupPass:function(){for(var e,n=this.decoder,s=this.width,r=this.height,o=this.neighborsSignificance,a=this.coefficentsMagnitude,c=this.coefficentsSign,l=this.contexts,d=this.contextLabelTable,p=this.bitsDecoded,m=this.processingFlags,h=2,g=s,u=2*s,b=3*s,x=0;x<r;x=e){e=Math.min(x+4,r);for(var y=x*s,P=x+3<r,f=0;f<s;f++){var C,T=y+f,S=P&&0===m[T]&&0===m[T+g]&&0===m[T+u]&&0===m[T+b]&&0===o[T]&&0===o[T+g]&&0===o[T+u]&&0===o[T+b],w=0,v=T,I=x;if(S){var L=n.readBit(l,t);if(!L){p[T]++,p[T+g]++,p[T+u]++,p[T+b]++;continue}w=n.readBit(l,17)<<1|n.readBit(l,17),0!==w&&(I=x+w,v+=w*s),C=this.decodeSignBit(I,f,v),c[v]=C,a[v]=1,this.setNeighborsSignificance(I,f,v),m[v]|=h,v=T;for(var k=x;k<=I;k++,v+=s)p[v]++;w++}for(I=x+w;I<e;I++,v+=s)if(!(a[v]||0!=(m[v]&1))){var E=d[o[v]],F=n.readBit(l,E);1===F&&(C=this.decodeSignBit(I,f,v),c[v]=C,a[v]=1,this.setNeighborsSignificance(I,f,v),m[v]|=h),p[v]++}}}},checkSegmentationSymbol:function(){var e=this.decoder,t=this.contexts,n=e.readBit(t,17)<<3|e.readBit(t,17)<<2|e.readBit(t,17)<<1|e.readBit(t,17);if(10!==n)throw new Error("JPX Error: Invalid segmentation symbol")}},e}(),v=function(){function e(){}return e.prototype.calculate=function(e,t,n){for(var s=e[0],r=1,o=e.length;r<o;r++)s=this.iterate(s,e[r],t,n);return s},e.prototype.extend=function(e,t,n){var i=t-1,s=t+1,r=t+n-2,o=t+n;e[i--]=e[s++],e[o++]=e[r--],e[i--]=e[s++],e[o++]=e[r--],e[i--]=e[s++],e[o++]=e[r--],e[i]=e[s],e[o]=e[r]},e.prototype.iterate=function(e,t,n,s){var r,o,a,c,d,p,m=e.width,h=e.height,g=e.items,x=t.width,y=t.height,P=t.items;for(a=0,r=0;r<h;r++)for(c=2*r*x,o=0;o<m;o++,a++,c+=2)P[c]=g[a];g=e.items=null;var f=new Float32Array(x+8);if(1!==x)for(p=0,a=0;p<y;p++,a+=x)f.set(P.subarray(a,a+x),4),this.extend(f,4,x),this.filter(f,4,x),P.set(f.subarray(4,4+x),a);else if(0!=(1&n))for(p=0,a=0;p<y;p++,a+=x)P[a]*=.5;var C=16,T=[];for(r=0;r<C;r++)T.push(new Float32Array(y+8));var S,w=0;if(e=4+y,1!==y)for(d=0;d<x;d++){if(0===w){for(C=Math.min(x-d,C),a=d,c=4;c<e;a+=x,c++)for(S=0;S<C;S++)T[S][c]=P[a+S];w=C}w--;var I=T[w];if(this.extend(I,4,y),this.filter(I,4,y),0===w)for(a=d-C+1,c=4;c<e;a+=x,c++)for(S=0;S<C;S++)P[a+S]=T[S][c]}else if(0!=(1&s))for(d=0;d<x;d++)P[d]*=.5;return{width:x,height:y,items:P}},e}(),I=function(){function e(){v.call(this)}return e.prototype=Object.create(v.prototype),e.prototype.filter=function(e,t,i){var s=i>>1;t|=0;var r,o,a,c,l=-1.586134342059924,d=-.052980118572961,p=.882911075530934,m=.443506852043971,h=1.230174104914001;for(r=t-3,o=s+4;o--;r+=2)e[r]*=1/h;for(r=t-2,a=m*e[r-1],o=s+3;o--&&(c=m*e[r+1],e[r]=h*e[r]-a-c,o--);r+=2)r+=2,a=m*e[r+1],e[r]=h*e[r]-a-c;for(r=t-1,a=p*e[r-1],o=s+2;o--&&(c=p*e[r+1],e[r]-=a+c,o--);r+=2)r+=2,a=p*e[r+1],e[r]-=a+c;for(r=t,a=d*e[r-1],o=s+1;o--&&(c=d*e[r+1],e[r]-=a+c,o--);r+=2)r+=2,a=d*e[r+1],e[r]-=a+c;if(0!=s)for(r=t+1,a=l*e[r-1],o=s;o--&&(c=l*e[r+1],e[r]-=a+c,o--);r+=2)r+=2,a=l*e[r+1],e[r]-=a+c},e}(),L=function(){function e(){v.call(this)}return e.prototype=Object.create(v.prototype),e.prototype.filter=function(e,t,i){var s=i>>1;t|=0;var r,o;for(r=t,o=s+1;o--;r+=2)e[r]-=e[r-1]+e[r+1]+2>>2;for(r=t+1,o=s;o--;r+=2)e[r]+=e[r-1]+e[r+1]>>1},e}();return e}(),globalScope="undefined"==typeof window?this:window,isWorker="undefined"==typeof window,FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},AnnotationType={WIDGET:1,TEXT:2,LINK:3},StreamType={UNKNOWN:0,FLATE:1,LZW:2,DCT:3,JPX:4,JBIG:5,A85:6,AHX:7,CCF:8,RL:9},FontType={UNKNOWN:0,TYPE1:1,TYPE1C:2,CIDFONTTYPE0:3,CIDFONTTYPE0C:4,TRUETYPE:5,CIDFONTTYPE2:6,TYPE3:7,OPENTYPE:8,TYPE0:9,MMTYPE1:10};globalScope.PDFJS||(globalScope.PDFJS={}),globalScope.PDFJS.pdfBug=!1,PDFJS.VERBOSITY_LEVELS={errors:0,warnings:1,infos:5};var OPS=PDFJS.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};function info(e){PDFJS.verbosity>=PDFJS.VERBOSITY_LEVELS.infos&&console.log("Info: "+e)}function warn(e){PDFJS.verbosity>=PDFJS.VERBOSITY_LEVELS.warnings&&console.log("Warning: "+e)}function error(e){if(1<arguments.length){var t=["Error:"];t.push.apply(t,arguments),console.log.apply(console,t),e=[].join.call(arguments," ")}else console.log("Error: "+e);throw console.log(backtrace()),UnsupportedManager.notify(UNSUPPORTED_FEATURES.unknown),new Error(e)}function backtrace(){try{throw new Error}catch(t){return t.stack?t.stack.split("\n").slice(2).join("\n"):""}}function assert(e,t){e||error(t)}var UNSUPPORTED_FEATURES=PDFJS.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font"},UnsupportedManager=PDFJS.UnsupportedManager=function(){var e=[];return{listen:function(t){e.push(t)},notify:function(t){warn("Unsupported feature \""+t+"\"");for(var n=0,s=e.length;n<s;n++)e[n](t)}}}();function combineUrl(e,t){if(!t)return e;if(/^[a-z][a-z0-9+\-.]*:/i.test(t))return t;var n;if("/"===t.charAt(0))return n=e.indexOf("://"),"/"===t.charAt(1)?++n:n=e.indexOf("/",n+3),e.substring(0,n)+t;var s=e.length;n=e.lastIndexOf("#"),s=0<=n?n:s,n=e.lastIndexOf("?",s),s=0<=n?n:s;var r=e.lastIndexOf("/",s);return e.substring(0,r+1)+t}function isValidUrl(e,t){if(!e)return!1;var n=/^[a-z][a-z0-9+\-.]*(?=:)/i.exec(e);return n?(n=n[0].toLowerCase(),"http"===n||"https"===n||"ftp"===n||"mailto"===n||"tel"===n):t}PDFJS.isValidUrl=isValidUrl;function shadow(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!1}),n}PDFJS.shadow=shadow;var PasswordResponses=PDFJS.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},PasswordException=function(){function e(e,t){this.name="PasswordException",this.message=e,this.code=t}return e.prototype=new Error,e.constructor=e,e}();PDFJS.PasswordException=PasswordException;var UnknownErrorException=function(){function e(e,t){this.name="UnknownErrorException",this.message=e,this.details=t}return e.prototype=new Error,e.constructor=e,e}();PDFJS.UnknownErrorException=UnknownErrorException;var InvalidPDFException=function(){function e(e){this.name="InvalidPDFException",this.message=e}return e.prototype=new Error,e.constructor=e,e}();PDFJS.InvalidPDFException=InvalidPDFException;var MissingPDFException=function(){function e(e){this.name="MissingPDFException",this.message=e}return e.prototype=new Error,e.constructor=e,e}();PDFJS.MissingPDFException=MissingPDFException;var UnexpectedResponseException=function(){function e(e,t){this.name="UnexpectedResponseException",this.message=e,this.status=t}return e.prototype=new Error,e.constructor=e,e}();PDFJS.UnexpectedResponseException=UnexpectedResponseException;var NotImplementedException=function(){function e(e){this.message=e}return e.prototype=new Error,e.prototype.name="NotImplementedException",e.constructor=e,e}(),MissingDataException=function(){function e(e,t){this.begin=e,this.end=t,this.message="Missing data ["+e+", "+t+")"}return e.prototype=new Error,e.prototype.name="MissingDataException",e.constructor=e,e}(),XRefParseException=function(){function e(e){this.message=e}return e.prototype=new Error,e.prototype.name="XRefParseException",e.constructor=e,e}();function bytesToString(e){assert(null!==e&&"object"==typeof e&&e.length!==void 0,"Invalid argument for bytesToString");var t=e.length,n=8192;if(t<n)return String.fromCharCode.apply(null,e);for(var s=[],r=0;r<t;r+=n){var o=Math.min(r+n,t),a=e.subarray(r,o);s.push(String.fromCharCode.apply(null,a))}return s.join("")}function stringToBytes(e){assert("string"==typeof e,"Invalid argument for stringToBytes");for(var t=e.length,n=new Uint8Array(t),s=0;s<t;++s)n[s]=255&e.charCodeAt(s);return n}function string32(e){return String.fromCharCode(255&e>>24,255&e>>16,255&e>>8,255&e)}function log2(e){for(var t=1,s=0;e>t;)t<<=1,s++;return s}function readInt8(e,t){return e[t]<<24>>24}function readUint16(e,t){return e[t]<<8|e[t+1]}function readUint32(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function isLittleEndian(){var e=new Uint8Array(2);e[0]=1;var t=new Uint16Array(e.buffer);return 1===t[0]}Object.defineProperty(PDFJS,"isLittleEndian",{configurable:!0,get:function(){return shadow(PDFJS,"isLittleEndian",isLittleEndian())}});function hasCanvasTypedArrays(){var e=document.createElement("canvas");e.width=e.height=1;var t=e.getContext("2d"),n=t.createImageData(1,1);return"undefined"!=typeof n.data.buffer}Object.defineProperty(PDFJS,"hasCanvasTypedArrays",{configurable:!0,get:function(){return shadow(PDFJS,"hasCanvasTypedArrays",hasCanvasTypedArrays())}});var Uint32ArrayView=function(){function e(e,t){this.buffer=e,this.byteLength=e.length,this.length=t===void 0?this.byteLength>>2:t,n(this.length)}function t(e){return{get:function(){var t=this.buffer,n=e<<2;return(t[n]|t[n+1]<<8|t[n+2]<<16|t[n+3]<<24)>>>0},set:function(t){var n=this.buffer,i=e<<2;n[i]=255&t,n[i+1]=255&t>>8,n[i+2]=255&t>>16,n[i+3]=255&t>>>24}}}function n(n){for(;i<n;)Object.defineProperty(e.prototype,i,t(i)),i++}e.prototype=Object.create(null);var i=0;return e}(),IDENTITY_MATRIX=[1,0,0,1,0,0],Util=PDFJS.Util=function(){function e(){}var t=["rgb(",0,",",0,",",0,")"];return e.makeCssRgb=function(e,n,i){return t[1]=e,t[3]=n,t[5]=i,t.join("")},e.transform=function(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]},e.applyTransform=function(e,t){var n=e[0]*t[0]+e[1]*t[2]+t[4],i=e[0]*t[1]+e[1]*t[3]+t[5];return[n,i]},e.applyInverseTransform=function(e,t){var n=t[0]*t[3]-t[1]*t[2],i=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,s=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n;return[i,s]},e.getAxialAlignedBoundingBox=function(t,n){var i=e.applyTransform(t,n),s=e.applyTransform(t.slice(2,4),n),r=e.applyTransform([t[0],t[3]],n),o=e.applyTransform([t[2],t[1]],n);return[Math.min(i[0],s[0],r[0],o[0]),Math.min(i[1],s[1],r[1],o[1]),Math.max(i[0],s[0],r[0],o[0]),Math.max(i[1],s[1],r[1],o[1])]},e.inverseTransform=function(e){var t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]},e.apply3dTransform=function(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2],e[3]*t[0]+e[4]*t[1]+e[5]*t[2],e[6]*t[0]+e[7]*t[1]+e[8]*t[2]]},e.singularValueDecompose2dScale=function(e){var t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],i=e[0]*t[1]+e[1]*t[3],s=e[2]*t[0]+e[3]*t[2],r=e[2]*t[1]+e[3]*t[3],o=(n+r)/2,a=Math.sqrt((n+r)*(n+r)-4*(n*r-s*i))/2;return[Math.sqrt(o+a||1),Math.sqrt(o-a||1)]},e.normalizeRect=function(e){var t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t},e.intersect=function(t,n){function i(e,t){return e-t}var s=[t[0],t[2],n[0],n[2]].sort(i),r=[t[1],t[3],n[1],n[3]].sort(i),o=[];if(t=e.normalizeRect(t),n=e.normalizeRect(n),s[0]===t[0]&&s[1]===n[0]||s[0]===n[0]&&s[1]===t[0])o[0]=s[1],o[2]=s[2];else return!1;if(r[0]===t[1]&&r[1]===n[1]||r[0]===n[1]&&r[1]===t[1])o[1]=r[1],o[3]=r[2];else return!1;return o},e.sign=function(e){return 0>e?-1:1},e.appendToArray=function(e,t){Array.prototype.push.apply(e,t)},e.prependToArray=function(e,t){Array.prototype.unshift.apply(e,t)},e.extendObj=function(e,t){for(var n in t)e[n]=t[n]},e.getInheritableProperty=function(e,t){for(;e&&!e.has(t);)e=e.get("Parent");return e?e.get(t):null},e.inherit=function(e,t,n){for(var i in e.prototype=Object.create(t.prototype),e.prototype.constructor=e,n)e.prototype[i]=n[i]},e.loadScript=function(e,t){var n=document.createElement("script"),i=!1;n.setAttribute("src",e),t&&(n.onload=function(){i||t(),i=!0}),document.getElementsByTagName("head")[0].appendChild(n)},e}(),PageViewport=PDFJS.PageViewport=function(){function e(e,t,n,i,s,r){this.viewBox=e,this.scale=t,this.rotation=n,this.offsetX=i,this.offsetY=s;var o,a,c,l,d=(e[2]+e[0])/2,p=(e[3]+e[1])/2;switch(n%=360,n=0>n?n+360:n,n){case 180:o=-1,a=0,c=0,l=1;break;case 90:o=0,a=1,c=1,l=0;break;case 270:o=0,a=-1,c=-1,l=0;break;default:o=1,a=0,c=0,l=-1;}r&&(c=-c,l=-l);var m,h,g,u;0===o?(m=Math.abs(p-e[1])*t+i,h=Math.abs(d-e[0])*t+s,g=Math.abs(e[3]-e[1])*t,u=Math.abs(e[2]-e[0])*t):(m=Math.abs(d-e[0])*t+i,h=Math.abs(p-e[1])*t+s,g=Math.abs(e[2]-e[0])*t,u=Math.abs(e[3]-e[1])*t),this.transform=[o*t,a*t,c*t,l*t,m-o*t*d-c*t*p,h-a*t*d-l*t*p],this.width=g,this.height=u,this.fontScale=t}return e.prototype={clone:function(t){t=t||{};var n="scale"in t?t.scale:this.scale,i="rotation"in t?t.rotation:this.rotation;return new e(this.viewBox.slice(),n,i,this.offsetX,this.offsetY,t.dontFlip)},convertToViewportPoint:function(e,t){return Util.applyTransform([e,t],this.transform)},convertToViewportRectangle:function(e){var t=Util.applyTransform([e[0],e[1]],this.transform),n=Util.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]},convertToPdfPoint:function(e,t){return Util.applyInverseTransform([e,t],this.transform)}},e}(),PDFStringTranslateTable=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function stringToPDFString(e){var t,s=e.length,n=[];if("\xFE"===e[0]&&"\xFF"===e[1])for(t=2;t<s;t+=2)n.push(String.fromCharCode(e.charCodeAt(t)<<8|e.charCodeAt(t+1)));else for(t=0;t<s;++t){var r=PDFStringTranslateTable[e.charCodeAt(t)];n.push(r?String.fromCharCode(r):e.charAt(t))}return n.join("")}function stringToUTF8String(e){return decodeURIComponent(escape(e))}function isEmptyObj(e){for(var t in e)return!1;return!0}function isBool(e){return"boolean"==typeof e}function isInt(e){return"number"==typeof e&&(0|e)===e}function isNum(e){return"number"==typeof e}function isString(e){return"string"==typeof e}function isName(e){return e instanceof Name}function isCmd(e,t){return e instanceof Cmd&&(t===void 0||e.cmd===t)}function isDict(e,t){if(!(e instanceof Dict))return!1;if(!t)return!0;var n=e.get("Type");return isName(n)&&n.name===t}function isArray(e){return e instanceof Array}function isStream(e){return"object"==typeof e&&null!==e&&e.getBytes!==void 0}function isArrayBuffer(e){return"object"==typeof e&&null!==e&&e.byteLength!==void 0}function isRef(e){return e instanceof Ref}function createPromiseCapability(){var e={};return e.promise=new Promise(function(t,n){e.resolve=t,e.reject=n}),e}PDFJS.createPromiseCapability=createPromiseCapability,function(){function e(e){this._status=0,this._handlers=[];try{e.call(this,this._resolve.bind(this),this._reject.bind(this))}catch(t){this._reject(t)}}if(globalScope.Promise)return"function"!=typeof globalScope.Promise.all&&(globalScope.Promise.all=function(e){var t,n,s=0,r=[],o=new globalScope.Promise(function(e,i){t=e,n=i});return e.forEach(function(e,o){s++,e.then(function(e){r[o]=e,s--,0===s&&t(r)},n)}),0==s&&t(r),o}),"function"!=typeof globalScope.Promise.resolve&&(globalScope.Promise.resolve=function(e){return new globalScope.Promise(function(t){t(e)})}),"function"!=typeof globalScope.Promise.reject&&(globalScope.Promise.reject=function(e){return new globalScope.Promise(function(t,n){n(e)})}),void("function"!=typeof globalScope.Promise.prototype.catch&&(globalScope.Promise.prototype.catch=function(e){return globalScope.Promise.prototype.then(void 0,e)}));var t=1,n=2,s=500,r={handlers:[],running:!1,unhandledRejections:[],pendingRejectionCheck:!1,scheduleHandlers:function(e){0!==e._status&&(this.handlers=this.handlers.concat(e._handlers),e._handlers=[],this.running||(this.running=!0,setTimeout(this.runHandlers.bind(this),0)))},runHandlers:function(){for(var e=Date.now()+1;0<this.handlers.length;){var i=this.handlers.shift(),s=i.thisPromise._status,r=i.thisPromise._value;try{s===t?"function"==typeof i.onResolve&&(r=i.onResolve(r)):"function"==typeof i.onReject&&(r=i.onReject(r),s=t,i.thisPromise._unhandledRejection&&this.removeUnhandeledRejection(i.thisPromise))}catch(e){s=n,r=e}if(i.nextPromise._updateStatus(s,r),Date.now()>=e)break}return 0<this.handlers.length?void setTimeout(this.runHandlers.bind(this),0):void(this.running=!1)},addUnhandledRejection:function(e){this.unhandledRejections.push({promise:e,time:Date.now()}),this.scheduleRejectionCheck()},removeUnhandeledRejection:function(e){e._unhandledRejection=!1;for(var t=0;t<this.unhandledRejections.length;t++)this.unhandledRejections[t].promise===e&&(this.unhandledRejections.splice(t),t--)},scheduleRejectionCheck:function(){this.pendingRejectionCheck||(this.pendingRejectionCheck=!0,setTimeout(function(){this.pendingRejectionCheck=!1;for(var e=Date.now(),t=0;t<this.unhandledRejections.length;t++)if(e-this.unhandledRejections[t].time>s){var n=this.unhandledRejections[t].promise._value,r="Unhandled rejection: "+n;n.stack&&(r+="\n"+n.stack),warn(r),this.unhandledRejections.splice(t),t--}this.unhandledRejections.length&&this.scheduleRejectionCheck()}.bind(this),s))}};e.all=function(t){function s(e){a._status===n||(l=[],o(e))}var r,o,a=new e(function(e,t){r=e,o=t}),c=t.length,l=[];if(0===c)return r(l),a;for(var d=0,p=t.length;d<p;++d){var m=t[d],h=function(e){return function(t){a._status===n||(l[e]=t,c--,0===c&&r(l))}}(d);e.isPromise(m)?m.then(h,s):h(m)}return a},e.isPromise=function(e){return e&&"function"==typeof e.then},e.resolve=function(t){return new e(function(e){e(t)})},e.reject=function(t){return new e(function(e,n){n(t)})},e.prototype={_status:null,_value:null,_handlers:null,_unhandledRejection:null,_updateStatus:function(i,s){return this._status===t||this._status===n?void 0:i===t&&e.isPromise(s)?void s.then(this._updateStatus.bind(this,t),this._updateStatus.bind(this,n)):void(this._status=i,this._value=s,i===n&&0===this._handlers.length&&(this._unhandledRejection=!0,r.addUnhandledRejection(this)),r.scheduleHandlers(this))},_resolve:function(e){this._updateStatus(t,e)},_reject:function(e){this._updateStatus(n,e)},then:function(t,n){var i=new e(function(e,t){this.resolve=e,this.reject=t});return this._handlers.push({thisPromise:this,onResolve:t,onReject:n,nextPromise:i}),r.scheduleHandlers(this),i},catch:function(e){return this.then(void 0,e)}},globalScope.Promise=e}();var StatTimer=function(){function e(e,t,n){for(;e.length<n;)e+=t;return e}function t(){this.started={},this.times=[],this.enabled=!0}return t.prototype={time:function(e){this.enabled&&(e in this.started&&warn("Timer is already running for "+e),this.started[e]=Date.now())},timeEnd:function(e){this.enabled&&(!(e in this.started)&&warn("Timer has not been started for "+e),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e])},toString:function(){var t,n,s=this.times,r="",o=0;for(t=0,n=s.length;t<n;++t){var a=s[t].name;a.length>o&&(o=a.length)}for(t=0,n=s.length;t<n;++t){var c=s[t],l=c.end-c.start;r+=e(c.name," ",o)+" "+l+"ms\n"}return r}},t}();PDFJS.createBlob=function(e,t){if("undefined"!=typeof Blob)return new Blob([e],{type:t});var n=new MozBlobBuilder;return n.append(e),n.getBlob(t)},PDFJS.createObjectURL=function(){return function(e,t){if(!PDFJS.disableCreateObjectURL&&"undefined"!=typeof URL&&URL.createObjectURL){var n=PDFJS.createBlob(e,t);return URL.createObjectURL(n)}for(var s="data:"+t+";base64,",r=0,o=e.length;r<o;r+=3){var a=255&e[r],c=255&e[r+1],l=255&e[r+2],d=r+1<o?(15&c)<<2|l>>6:64,p=r+2<o?63&l:64;s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[a>>2]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[(3&a)<<4|c>>4]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[d]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[p]}return s}}();function MessageHandler(e,t){this.name=e,this.comObj=t,this.callbackIndex=1,this.postMessageTransfers=!0;var n=this.callbacksCapabilities={},i=this.actionHandler={};i.console_log=[function(e){console.log.apply(console,e)}],i.console_error=[function(e){console.error.apply(console,e)}],i._unsupported_feature=[function(e){UnsupportedManager.notify(e)}],t.onmessage=function(e){var s=e.data;if(s.isReply){var r=s.callbackId;if(s.callbackId in n){var o=n[r];delete n[r],"error"in s?o.reject(s.error):o.resolve(s.data)}else error("Cannot resolve callback "+r)}else if(s.action in i){var a=i[s.action];s.callbackId?Promise.resolve().then(function(){return a[0].call(a[1],s.data)}).then(function(e){t.postMessage({isReply:!0,callbackId:s.callbackId,data:e})},function(e){t.postMessage({isReply:!0,callbackId:s.callbackId,error:e})}):a[0].call(a[1],s.data)}else error("Unknown action from worker: "+s.action)}}MessageHandler.prototype={on:function(e,t,n){var i=this.actionHandler;i[e]&&error("There is already an actionName called \""+e+"\""),i[e]=[t,n]},send:function(e,t,n){this.postMessage({action:e,data:t},n)},sendWithPromise:function(e,t,n){var i=this.callbackIndex++,s=createPromiseCapability();this.callbacksCapabilities[i]=s;try{this.postMessage({action:e,data:t,callbackId:i},n)}catch(t){s.reject(t)}return s.promise},postMessage:function(e,t){t&&this.postMessageTransfers?this.comObj.postMessage(e,t):this.comObj.postMessage(e)}};function loadJpegStream(e,t,n){var i=new Image;i.onload=function(){n.resolve(e,i)},i.onerror=function(){n.resolve(e,null),warn("Error during JPEG image loading")},i.src=t}var ArithmeticDecoder=function(){function e(e,t,n){this.data=e,this.bp=t,this.dataEnd=n,this.chigh=e[t],this.clow=0,this.byteIn(),this.chigh=65535&this.chigh<<7|127&this.clow>>9,this.clow=65535&this.clow<<7,this.ct-=7,this.a=32768}var t=[{qe:22017,nmps:1,nlps:1,switchFlag:1},{qe:13313,nmps:2,nlps:6,switchFlag:0},{qe:6145,nmps:3,nlps:9,switchFlag:0},{qe:2753,nmps:4,nlps:12,switchFlag:0},{qe:1313,nmps:5,nlps:29,switchFlag:0},{qe:545,nmps:38,nlps:33,switchFlag:0},{qe:22017,nmps:7,nlps:6,switchFlag:1},{qe:21505,nmps:8,nlps:14,switchFlag:0},{qe:18433,nmps:9,nlps:14,switchFlag:0},{qe:14337,nmps:10,nlps:14,switchFlag:0},{qe:12289,nmps:11,nlps:17,switchFlag:0},{qe:9217,nmps:12,nlps:18,switchFlag:0},{qe:7169,nmps:13,nlps:20,switchFlag:0},{qe:5633,nmps:29,nlps:21,switchFlag:0},{qe:22017,nmps:15,nlps:14,switchFlag:1},{qe:21505,nmps:16,nlps:14,switchFlag:0},{qe:20737,nmps:17,nlps:15,switchFlag:0},{qe:18433,nmps:18,nlps:16,switchFlag:0},{qe:14337,nmps:19,nlps:17,switchFlag:0},{qe:13313,nmps:20,nlps:18,switchFlag:0},{qe:12289,nmps:21,nlps:19,switchFlag:0},{qe:10241,nmps:22,nlps:19,switchFlag:0},{qe:9217,nmps:23,nlps:20,switchFlag:0},{qe:8705,nmps:24,nlps:21,switchFlag:0},{qe:7169,nmps:25,nlps:22,switchFlag:0},{qe:6145,nmps:26,nlps:23,switchFlag:0},{qe:5633,nmps:27,nlps:24,switchFlag:0},{qe:5121,nmps:28,nlps:25,switchFlag:0},{qe:4609,nmps:29,nlps:26,switchFlag:0},{qe:4353,nmps:30,nlps:27,switchFlag:0},{qe:2753,nmps:31,nlps:28,switchFlag:0},{qe:2497,nmps:32,nlps:29,switchFlag:0},{qe:2209,nmps:33,nlps:30,switchFlag:0},{qe:1313,nmps:34,nlps:31,switchFlag:0},{qe:1089,nmps:35,nlps:32,switchFlag:0},{qe:673,nmps:36,nlps:33,switchFlag:0},{qe:545,nmps:37,nlps:34,switchFlag:0},{qe:321,nmps:38,nlps:35,switchFlag:0},{qe:273,nmps:39,nlps:36,switchFlag:0},{qe:133,nmps:40,nlps:37,switchFlag:0},{qe:73,nmps:41,nlps:38,switchFlag:0},{qe:37,nmps:42,nlps:39,switchFlag:0},{qe:21,nmps:43,nlps:40,switchFlag:0},{qe:9,nmps:44,nlps:41,switchFlag:0},{qe:5,nmps:45,nlps:42,switchFlag:0},{qe:1,nmps:45,nlps:43,switchFlag:0},{qe:22017,nmps:46,nlps:46,switchFlag:0}];return e.prototype={byteIn:function(){var e=this.data,t=this.bp;if(255===e[t]){var n=e[t+1];143<n?(this.clow+=65280,this.ct=8):(t++,this.clow+=e[t]<<9,this.ct=7,this.bp=t)}else t++,this.clow+=t<this.dataEnd?e[t]<<8:65280,this.ct=8,this.bp=t;65535<this.clow&&(this.chigh+=this.clow>>16,this.clow&=65535)},readBit:function(e,n){var i,s=e[n]>>1,r=1&e[n],o=t[s],c=o.qe,l=this.a-c;if(this.chigh<c)l<c?(l=c,i=r,s=o.nmps):(l=c,i=1^r,1===o.switchFlag&&(r=i),s=o.nlps);else{if(this.chigh-=c,0!=(32768&l))return this.a=l,r;l<c?(i=1^r,1===o.switchFlag&&(r=i),s=o.nlps):(i=r,s=o.nmps)}do 0===this.ct&&this.byteIn(),l<<=1,this.chigh=65535&this.chigh<<1|1&this.clow>>15,this.clow=65535&this.clow<<1,this.ct--;while(0==(32768&l));return this.a=l,e[n]=s<<1|r,i}},e}();self.addEventListener("message",function(e){var t=new JpxImage;t.parse(e.data.buffer);var n=t.tiles[0].items;self.postMessage([n])},!1);